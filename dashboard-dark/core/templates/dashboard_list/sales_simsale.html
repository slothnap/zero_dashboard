{% extends "layouts/base.html" %}

{% block title %} Chart JS {% endblock title %}

<!-- Specific CSS goes HERE -->
{% block stylesheets %}{% endblock stylesheets %}

{% block content %}

<div class="page-inner">
    <h4 class="page-title">매출</h4>
<!--        <div class="page-category">Simple yet flexible JavaScript charting for designers & developers. Please checkout their <a href="https://www.chartjs.org/" target="_blank">full documentation</a>.</div>-->
    <div class="row">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">카테고리 매출</div>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="sim_cate_sales"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">수익 및 결제수수료
                    </div>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="sim_income"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">주문금액</div>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="sim_user_sales"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">주문건수</div>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="order_cnt"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">쿠폰 사용금액</div>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="copn_use_amnt"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">쿠폰 사용비율</div>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="copn_use_rate"></canvas>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-md-12">
            <div class="card">
                <div class="card-header">
                    <div class="card-title">첫구매 비율</div>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="frst_buy_rate"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


{% endblock content %}



{% block javascripts %}
<script src="/static/assets/js/core/charts/colors.js"></script>     // 색깔
<script src="/static/assets/js/core/charts/charts_setting.js"></script>  // charts js 설정

<script>

    <!--데이터 받기 -->
    var temp = "{{dashboard_list}}";

    <!--데이터 수정 -->
    var temp2 = temp.replace(/&#39;/g, "\"");

    <!-- 수정된 데이터 배열에 담기 -->
    var data = JSON.parse(temp2);

    <!-- 회원방문자 데이터만 필터링 -->
    var sim_vigit_mmbr_data = Object.values(data[0]).splice(1,11);
    var sim_vigit_unmmbr_data = Object.values(data[2]).splice(1,11);


    <!-- 일일가입자 카카오, 네이버, 일반가입-->
    var day_join_kakao_data = Object.values(data[28]).splice(1,11);
    var day_join_naver_data = Object.values(data[29]).splice(1,11);
    var day_join_gnrl_data  = Object.values(data[30]).splice(1,11);


    console.log(sale_ord_amnt);
    console.log(market_ord_amnt);

    // 데이터 받기 //
    var salesList = "{{sales_list}}";

</script>

<script src="/static/assets/js/core/sales/sales_simsale.js"></script>

{% endblock javascripts %}